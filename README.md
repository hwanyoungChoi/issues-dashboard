# 지원자가 과제에 대해 직접 작성하는 내용입니다.

## 🛠 기술 스택

> 프로젝트에서 사용한 기술들을 아래 표에 작성해주세요.

| 구분               | 선택한 기술          | 버전          | 선택 이유                                                                                                                                                                                                                                                                                                                    |
| ------------------ | -------------------- | ------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **프레임워크**     | Next.js              | Latest (15.3) | 안정화된 최신 버전이며 과제를 구현하는데 있어서 호환성 이슈 발생할 것은 없어보였습니다. 따라서 최신 버전으로 설치하였습니다.                                                                                                                                                                                                 |
| **상태 관리**      | zustand, react-query | 5             | zustand는 문법이 간단하면서도 정의한 action을 이용해서만 상태를 변경할 수 있으므로, 디버깅하기 쉽습니다. 또한 필요한 상태를 구독하는 컴포넌트만 재렌더링하므로 성능 면에서도 효율적이라 선택했습니다. react-query는 서버 데이터를 다루기 위해 사용하는데 로딩과 에러 상태 그리고 캐시 등을 쉽게 다룰 수 있어서 선택했습니다. |
| **스타일링**       | emotion              | Latest (11)   | 컴포넌트처럼 스타일을 정의하고, props를 통해 동적으로 스타일 변경이 가능해 직관적이라서 선택했습니다.                                                                                                                                                                                                                        |
| **빌드 도구**      | TurboPack, Webpack   |               | 개발 환경에서 빠른 빌드를 위해 Turbopack을 사용합니다.                                                                                                                                                                                                                                                                       |
| **코드 품질 관리** | eslint               | 9             |                                                                                                                                                                                                                                                                                                                              |

---

## 📋 구현 완료 기능

> 아래 체크박스를 통해 구현 완료한 기능들을 표시해주세요.
>
> (요구사항을 모두 구현하는 것이 평가 기준은 아니며, 필수 요구사항을 모두 구현하지 못해도 추가 요구사항을 구현할 수 있습니다.)

### ✅ 필수 요구사항

- [x] 기본 페이지 및 레이아웃 구성
- [x] 공통 > 모달
- [x] 공통 > 페이지네이션
- [x] 홈 페이지 > 기본
- [x] 서비스 게시판 > 기본
- [x] 서비스 게시판 > 게시글 더보기 액션
- [x] 서비스 게시판 > 게시글 UI 타입 변경
- [x] 서비스 게시판 > 게시글 상세
- [x] 서비스 게시판 > 게시글 등록 및 수정

### 🎯 추가 요구사항

- [x] 게시글 작성 중, 페이지 이동
- [ ] 도커 설정
- [ ] Module Federation 적용

---

## 💡 주요 구현 내용

> 각 페이지별로 구현한 기능과 기술적 고려사항을 설명해주세요.

### 1. 기본 페이지 및 레이아웃

**레이아웃 UI**

레이아웃 구성에 필요한 컴포넌트들은 components/layouts에 위치합니다.

LNB, GNB 컴포넌트를 따로 분리해두었는데, 이는 현업이라고 가정했을 때 1)LNB, GNB 내 기능이 많아질 것을 고려 2)여러 종류의 레이아웃 필요 가능성에 따른 것입니다.

유의미한 태그(header, nav, ul..)를 활용하여 작성하였으며, 현재 앱 규모가 작기 때문에 레이아웃은 바로 \_app.tsx에서 씌우는 형태로 사용하였습니다.

**라우트 구성**

각 페이지 경로를 상수화하여 페이지 목록을 한 눈에 볼 수 있고, 오타를 방지할 수 있게 하였습니다.  
id path 파라미터에 따라 상세 페이지 또는 수정 페이지로 분기처리되도록 했습니다.

**콘텐츠 보기 방식 옵션**

zustand를 사용해 콘텐츠 보기 방식 상태를 관리하며, 제공하는 미들웨어를 활용한 브라우저 스토리지 저장과 더불어 상태 사용을 쉽게 할 수 있기 떄문에 선택했습니다.
상태가 GNB에 위치한 만큼 앱 전역적으로 활용되고, 추후에 추가적인 옵션이 생길 수 있다고 가정하여 AppStore라는 이름으로 공통 상태를 작성했습니다.

그리고 드롭다운 형태의 UI 표시방식이 이곳과 더불어 게시글 수정삭제 시에도 사용되므로 공통적인 컴포넌트들을(Button, DropDown) 미리 작성하였습니다.

### 2. 공통 컴포넌트

- **모달**:

  훅으로 모달 UI를 관리하기 위해 앱의 최상단에 모달 컨테이너를 위치시켰습니다. 중첩 모달 및 FILO 요구사항을 충족시키기 위해 zustand로 modal 상태를 배열로 관리하고, 백드롭을 모달과 독립적인 레이어로 두어서 백드롭이 중첩되지 않도록 개발했습니다.

  다양한 형태의 모달을 개발하고 사용할 수 있도록 modal 컴포넌트를 prop으로 받도록 했고 /copmonents/modals에 작성하도록 했습니다.

- **페이지네이션**:

  최대 7개 페이지가 노출된다고 가정하고, 7개 초과 시 발생할 수 있는 세 개 케이스 (선택 페이지가 4이하, 선택 페이지가 5이상, 선택페이지가 중앙)에 맞게 계산하여 처리하도록 계산했습니다.  
  /components/common의 컴포넌트는 사용하는 곳의 자유도를 위해, 최대한 상태를 갖지 않도록 props 구성 및 개발했습니다.

### 3. 서비스 게시판

API 연동을 위해 octokit과 react-query를 결합하여 API 요청 함수(/lib/api)와 요청 훅(/hooks/queries)을 쌍으로 작성했습니다.  
API 요청 함수는 확장성 등을 위해 github에서 정의한 형태를 유지하였고 별도 가공이 필요한 경우 요청 훅에서 작성하도록 했습니다.

- **게시글 목록**:

1. 콘텐츠 보기 옵션에 따른 Table, CardGrid 형태 목록 컴포넌트 개발
2. 목록 조회 API와 검색 API가 분리되어있는데, 개발 편의를 위해 요청 훅 파라미터를 동일한 구조로 받고, 실제 쿼리 조합은 요청 훅 내에서 가공하여 API 요청 함수 호출하도록 처리
3. 검색 입력 폼은 엔터 또는 검색 버튼 클릭 시만 동작하도록 비제어 컴포넌트로 처리
4. search, page는 queryString으로 관리하여 상세 페이지 이동 했다가 돌아왔을 때 보던 목록 유지, 링크 공유 가능성, 페이지네이션 히스토리 유지가 가능하도록
5. 페이지네이션 total count를 위해 검색 API로 목록 조회하도록 통합

- **게시글 상세**:

1. pathparam의 issue number로 게시글 조회하여 컨텐츠 노출
2. 상세 페이지에 다이렉트로 진입하는 케이스가 발생할 수 있으므로, 목록 버튼 클릭 시 뒤로가기가 아닌 이슈 목록으로 이동 처리

- **게시글 등록/수정**:

1. 동일 입력 폼으로 issue number 유무에 따라 등록/수정 분기 처리
2. 등록/수정 시 캐시 무효화로 데이터 갱신 처리
3. 에러 메시지 표시와 폼 관리 등을 위해 전용 input 공통컴포넌트 추가 및 react-hook-form 사용

### 4. 추가 요구사항

- **게시글 등록 및 수정 페이지**

1. 항상 이탈 confirm이 뜨는 것 보다, 편집이 이뤄졌을 때 띄우는 것이 UX상 좋기 때문에 react-hook-form의 dirty 상태일 때 띄우도록 처리
2. 새로고침/창닫기 처리를 위해 beforeunload 이벤트를 통해 기본 confirm을 띄우도록 처리
3. 뒤로가기 처리를 위해 router.beforePopState를 활용해 구현한 모달을 띄우도록 했습니다. 구현 모달에서 확인 시 이전 페이지로 이동시키기 위해 beforePopState 내에서 이동하려던 url을 useRef에 세팅하고, 그 값으로 이전 페이지로 이동시켰습니다.

---

## ⚠️ 개발 과정에서 겪은 이슈와 해결 방법

> 개발 중 발생한 문제들과 해결 과정을 기록해주세요.

| 문제 상황                                                                                                                                        | 원인 분석                                                                                                                                | 해결 방법                                                                                                         | 학습 내용                                                                                                                                                    |
| ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 게시글 편집 중 뒤로가기 시 confirm 을 띄우는데, 사용자가 취소를 누르고 다시 뒤로가기로 confirm을 띄워서 확인을 누르면 두 칸 뒤로가는 이슈가 발생 | beforePopState의 url을 콘솔에 출력해보니, false를 반환해서 popState를 발생시키지 않더라도 브라우저 히스토리 상으로는 뒤로 가는 것이 확인 | 전환하려던 첫 url만 Ref에 저장하고, 그 이후에는 저장하지 않도록 조건 처리하여 항상 직전 url로만 돌아갈가도록 해결 | 브라우저 설계 철학상 뒤로가기를 막을 수 없고, popState는 이미 히스토리 이동 후 발생하기 때문에 즉, 브라우저 레벨에서 이뤄지는 것이라 완벽하게 제어할 수 없음 |
|                                                                                                                                                  |                                                                                                                                          |                                                                                                                   |                                                                                                                                                              |

---

## ▶ 실행 방법

```bash
# Node 20.18 버전, Chrome 브라우저 기준으로 개발되었습니다.
npm i
npm run dev
```

**접속 URL**: http://localhost:3000/

---

## 📝 추가 설명

> 구현 과정에서 특별히 고민했던 부분이나 추가로 구현하고 싶었던 기능이 있다면 여기에 작성해주세요.

### 전반적인 프로젝트 구조 계획

현재 앱 규모는 작지만 확장성을 고려하고자 했습니다.

각 페이지에서 표시될 내용은 page/ 하위에 작성하는 것이 아니라, containers/ 내에 작성할 계획입니다.
page에서는 메타정보, 파라미터에 따른 컨텐츠 결정 등을 담당하고 실제 컨텐츠 내용은 containers에서 만들도록 책임 분리를 명확히 하기 위함입니다.

components/ 또한 루트에 있는 것은 여러 페이지에서 사용될 공통된 내용이 위치할 것이고, 특정 page에서만 사용되는 컴포넌트는 containers/components/에 작성할 계획입니다.

### API 요청 함수 및 훅 정의

react-query가 제공하는 훅을 fetch 또는 post 등 API 요청 함수와 결합해서 훅으로 정의해두고 사용하는 것이 편리해서 정의하여 사용했습니다. API 요청 함수를 별도 파일에 모아서 정의해둔 이유는 useQuery, useQuerySuspense와 같이 다양하게 재활용할 수 있게 하기 위함입니다.

## 🤖 AI 활용 내역

> 과제 진행 시 AI 도구를 활용했다면, 어떤 AI를 사용했는지와 어떻게 활용했는지 작성해주세요.

- **활용한 AI**: ChatGPT
- **활용 방법**: 정답이 없어 보이는 것에 대해 최선의 선택을 하기 위한 목적으로 활용했습니다.  
  예를 들면, route path 목록을 상수화 하고자 할 때, path만 저장할지, path와 해당 title 까지 객체로 묶어 저장할 지 등이 있겠는데 AI와 논의하는 방식으로 결정에 있어 도움을 받았습니다.

---

## 🔗 참고 자료

> 구현 과정에서 참고한 자료가 있다면 여기에 작성해주세요.
